---
import Logo from '../components/Logo.astro'
import SocialLinks from '../components/SocialLinks.astro'
import { useTranslations, type Lang, defaultLang } from '../i18n'

interface Props {
    lang?: Lang
}

const { lang = 'cs' } = Astro.props
const t = useTranslations(lang)

// Helper to build localized paths
const localePath = (path: string) => {
    if (lang === defaultLang) {
        return path
    }
    return `/${lang}${path}`
}
---

<div class="footer-bottom">
    <div class="contact-info">
        <Logo />
        <ul>
            <li>
                <div class="icon location"></div>
                <a
                    href="https://www.google.com/maps/dir/?api=1&destination=Pohraniční+střáže+474,+Chodová+Planá"
                    target="_blank">
                    Pohraniční střáže 474, Chodová Planá
                </a>
            </li>
            <li>
                <div class="icon email"></div>
                <a href={`mailto:${t('global.email')}`}> {t('global.email')} </a>
            </li>
            <li>
                <div class="icon tel"></div>
                <a href="tel:+420777076174"> +420 777 076 174 </a>
            </li>
        </ul>
    </div>
    <div class="footer-banner services">
        <h4>{t('footer.services.title')}</h4>
        <ul>
            <li>
                <div class="icon checkmark"></div>
                <a href={localePath('/opravy-vozidel-po-kroupach-bez-poskozeni-laku')}>
                    {t('services.serviceCard.card1')}
                </a>
            </li>
            <li>
                <div class="icon checkmark"></div>
                <a href={localePath('/opravy-deformaci-bez-lakovani-metodou-pdr')}>
                    {t('services.serviceCard.card2')}
                </a>
            </li>
            <li>
                <div class="icon checkmark"></div>
                <a href={localePath('/ochranne-nastriky-dutin-a-podvozku')}>
                    {t('services.serviceCard.card3')}
                </a>
            </li>
            <li>
                <div class="icon checkmark"></div>
                <a href={localePath('/vyvarovani-a-karosarske-opravy')}>
                    {t('services.serviceCard.card4')}
                </a>
            </li>
        </ul>
    </div>

    <div class="footer-banner">
        <h4>{t('footer.openingHours.title')}</h4>
        <ul>
            <li>
                <p>{t('footer.openingHours.monday')}</p>
            </li>
            <li>
                <p>{t('footer.openingHours.saturday')}</p>
            </li>
            <li>
                <p>{t('footer.openingHours.sunday')}</p>
            </li>
            <li>
                <div class="icon clock"></div>
                <p>{t('footer.openingHours.phone')}</p>
            </li>
        </ul>
        <SocialLinks />
    </div>
</div>
<div class="signature">
    <div class="signature-author">
        Vytvořil <a href="https://www.linkedin.com/in/robert-nguyen-92419220a/"> RN</a>
    </div>
    <p>Copyright &copy; KaroserieDoc {new Date().getFullYear()}</p>
</div>
<style lang="scss">
    .signature {
        border-top: 1px solid #54595f;
        margin-top: 1rem;
        padding-top: 1rem;
        padding-bottom: 5rem;
        display: flex;
        justify-content: space-between;
        font-size: 1.2rem;
        font-weight: 300;
        color: #9c9fa3;

        a {
            color: #9c9fa3;
        }
    }
    .social-links {
        margin-top: auto;
    }
    .footer-bottom {
        display: flex;
        margin-top: 3.2rem;

        @media (max-width: 767px) {
            flex-direction: column;
        }
        > div {
            width: 33.3333%;
            padding: 2rem;

            @media (max-width: 767px) {
                width: 100%;
            }
        }
        .contact-info {
            ul {
                margin-top: 1rem;
            }
        }
        .footer-banner {
            display: flex;
            flex-direction: column;
            ul {
                margin-bottom: auto;
            }
            h4 {
                margin-bottom: 3.2rem;
                font-size: 2rem;
                font-weight: 600;
                position: relative;
                letter-spacing: 0.5px;

                &:before {
                    content: '';
                    position: absolute;
                    bottom: -1.5rem;
                    width: 10%;
                    height: 1px;
                    background-color: $clr-primary;
                }
            }
        }
        a,
        p {
            font-size: 1.4rem;
            display: block;
        }

        li {
            display: flex;
            align-items: center;
            padding-bottom: 0.3rem;

            &:has(.clock) {
                margin-top: 1.5rem;
            }
        }
    }
</style>
