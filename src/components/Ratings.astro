---
import Title from '../components/Title.astro'
import RatingCard from '../components/RatingCard.astro'
---

<div class="ratings">
    <Title title="Co o nÃ¡s Å™Ã­kajÃ­" subtitle="Recenze Google" position="center" />
    <div class="ratings-wrapper">
        <div class="scroller" data-direction="right" data-speed="slow">
            <div class="scroller__inner">
                <RatingCard
                    link="https://www.google.com/maps/reviews/data=!4m8!14m7!1m6!2m5!1sChdDSUhNMG9nS0VJQ0FnSURtdWZ5Vm1BRRAB!2m1!1s0x0:0x15f7903e6ed3d5df!3m1!1s2@1:CIHM0ogKEICAgIDmufyVmAE%7CCgsI0bzrjwYQ2OCibQ%7C?coh=219816&entry=tts&g_ep=EgoyMDI0MDgxNC4xKgBIAVAD"
                    imgSrc="/images/reviews/review-1.png"
                    name="Marek Å uraba"
                    description="Dnes mi pÃ¡n dokÃ¡zal, Å¾e je opravdu kouzelnÃ­k!!! MÄ›l jsem na svÃ© audi velmi Å¡patnÄ› promÃ¡ÄklÃ½ lem zadnÃ­ho blatnÃ­ku, u nejmenovanÃ© konkurence mi Å™ekli, Å¾e tohle nikdo nevytÃ¡hne na 100% protoÅ¾e to bylo fakt blbÄ› promaÄklÃ© pÅ™Ã­mo v lemu. NicmÃ©nÄ› pÃ¡n od KaroserieDoc Å™ekl Å¾e to zvlÃ¡dne a taky zvlÃ¡dl!! KdyÅ¾ jsem si byl auto vyzvednout nikdo by nepoznal Å¾e tam nÄ›kdy promÃ¡Äklina byla! A cena proti konkurenci byla opravdu luxusnÃ­, maximÃ¡lnÃ­ spokojenost. PÃ¡novi moc dÄ›kuji a urÄitÄ› pÅ™ijedu zas kdyÅ¾ to nÄ›kde bouchnu ðŸ˜…"
                    date="27.2.2022"
                    stars={5}
                />
                <RatingCard
                    link="https://maps.app.goo.gl/kNHxsnDNX8UrkhtV7"
                    imgSrc="/images/reviews/review-2.png"
                    name="EluÅ¡enka"
                    description="ChtÄ›la bych se s VÃ¡mi podÄ›lit o skvÄ›lou pÃ©Äi mÃ©ho auta.ðŸ‘Œ Jak spasovanÃ­ dÃ­lÅ¯ ,tak oÅ¡etÅ™enÃ­ podvozku na jedniÄku.ðŸ‘Œ SkvÄ›lÃ¡ komunikace i prÃ¡ce mohu jen doporuÄit.ðŸŒ¼ VÃ­m na koho se vÅ¾dy obrÃ¡tit.ðŸ¤—"
                    date="27.2.2022"
                    stars={5}
                />
                <RatingCard
                    link="https://maps.app.goo.gl/svWzkndeamB43FuK6"
                    imgSrc="/images/reviews/review-3.png"
                    name="Drahoslav Koura"
                    description="ProfesionÃ¡lnÃ­ prÃ¡ce a vstÅ™Ã­cnost.  PromÃ¡ÄklÃ½ zadnÃ­ blatnÃ­k u 3dv auta od fotbalovÃ©ho mÃ­Äe. Hloubka cca 12 mm a prÅ¯mÄ›r 220 mm.Vypadalo to jak od medicinbalu. MÃ¡ zlatÃ© a Å¡ikovnÃ© ruce. NepoznÃ¡te, Å¾e se autÃ­Äku nÄ›co stalo. Moc dÃ­ky"
                    date="27.2.2023"
                    stars={5}
                />
                <RatingCard
                    link="https://maps.app.goo.gl/PFHEVPqqQDCKrwAx7"
                    imgSrc="/images/reviews/review-4.png"
                    name="Jana HrdliÄkovÃ¡"
                    description="PerfektnÃ­, mÅ¯Å¾eme jen doporuÄit  - oprava promÃ¡ÄklÃ© kapoty trvala sotva hodinku, na kapotÄ› nenÃ­ poznat, Å¾e by byla kdy poÅ¡kozenÃ¡. S cenou jsme takÃ© spokojenÃ­ - konkurence by stÃ¡la rozhodnÄ› vÃ­c! A co urÄitÄ› chci vyzvednout, je pÅ™Ã­stup k zÃ¡kaznÃ­kovi - mÃ¡me vÄ›tÅ¡inou problÃ©m zajet do servisu kvÅ¯li pracovnÃ­mu vytÃ­Å¾enÃ­, ale pÃ¡n nÃ¡m velmi ochotnÄ› vyÅ¡el vstÅ™Ã­c a opravu provedl v nedÄ›li. TakÅ¾e, i kdyÅ¾ doufÃ¡m, Å¾e uÅ¾ se naÅ¡emu autu nic nestane, ale pokud ano, vÃ­me, na koho se obrÃ¡tit."
                    date="27.2.2023"
                    stars={5}
                />
                <RatingCard
                    link="https://maps.app.goo.gl/a3taNkBFd9Yc2oiJ9"
                    imgSrc="/images/reviews/review-5.png"
                    name="Matteo Borgorelli"
                    description="Pan mi opravil nalakoval zrezlÃ½ blatnik. S opravou jsem vÃ­ce neÅ¾ spokojen. MnohokrÃ¡t dÄ›kuji ."
                    date="27.2.2021"
                    stars={5}
                />
            </div>
        </div>
    </div>
    <script>
        function addAnimation() {
            const scrollers = document.querySelectorAll('.scroller')

            scrollers.forEach((scroller) => {
                // add data-animated="true" to every `.scroller` on the page
                scroller.setAttribute('data-animated', 'true')

                // Make an array from the elements within `.scroller-inner`
                const scrollerInner = scroller.querySelector('.scroller__inner')
                const scrollerContent = Array.from(scrollerInner.children)

                // For each item in the array, clone it
                // add aria-hidden to it
                // add it into the `.scroller-inner`
                scrollerContent.forEach((item) => {
                    const duplicatedItem = item.cloneNode(true)
                    // duplicatedItem.setAttribute('aria-hidden', 'true')
                    scrollerInner.appendChild(duplicatedItem)
                })
            })
        }

        document.addEventListener('DOMContentLoaded', addAnimation)
        document.addEventListener('astro:after-swap', addAnimation)
    </script>
    <style lang="scss">
        .scroller {
        }

        .scroller__inner {
            padding-block: 1rem;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .scroller[data-animated='true'] {
            overflow: hidden;
            -webkit-mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
            mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
        }

        .scroller[data-animated='true'] .scroller__inner {
            width: max-content;
            flex-wrap: nowrap;
            animation: scroll var(--_animation-duration, 40s) var(--_animation-direction, forwards) linear
                infinite;
        }

        .scroller[data-animated='true']:hover .scroller__inner {
            animation-play-state: paused;
        }

        .scroller[data-direction='right'] {
            --_animation-direction: reverse;
        }

        .scroller[data-direction='left'] {
            --_animation-direction: forwards;
        }

        .scroller[data-speed='fast'] {
            --_animation-duration: 20s;
        }

        .scroller[data-speed='slow'] {
            --_animation-duration: 60s;
        }

        @keyframes scroll {
            to {
                transform: translate(calc(-50% - 0.5rem));
            }
        }

        /* general styles */

        :root {
            --clr-neutral-100: hsl(0, 0%, 100%);
            --clr-primary-100: hsl(205, 15%, 58%);
            --clr-primary-400: hsl(215, 25%, 27%);
            --clr-primary-800: hsl(217, 33%, 17%);
            --clr-primary-900: hsl(218, 33%, 9%);
        }

        .tag-list {
            margin: 0;
            padding-inline: 0;
            list-style: none;
        }

        .tag-list li {
            padding: 1rem;
            background: var(--clr-primary-400);
            border-radius: 0.5rem;
            box-shadow: 0 0.5rem 1rem -0.25rem var(--clr-primary-900);
        }

        /* for testing purposed to ensure the animation lined up correctly */
        .test {
            background: red !important;
        }
    </style>
</div>
